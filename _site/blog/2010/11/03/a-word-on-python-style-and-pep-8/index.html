


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
  <head>
    
  <title>rafekettler.com</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="/blog/feed" />
<link rel="alternate" type="application/atom+xml" title="Atom 1.0"
href="/blog/feed/atom" />
<link rel='stylesheet' href='/css/pygments_tango.css' type='text/css' />
<link rel='stylesheet' href='/css/site.css' type='text/css' />


  </head>
  <body>
    <div id="content">
      
  <h1><a href="/">rafekettler.com</a></h1>
<h3>My thoughts on programming and technology</h3>
<nav>
<ul>
<li><a href="/blog">Blog</a></li>
<li><a href="/about.html">About me</a></li>
<li><a href="/magicmethods.html">Magic Methods Guide</a></li>
</ul>
</nav>
<hr/>


      <div id="main_block">
        <div id="prose_block">
          

<div class="blog_post">
  <a name="a-word-on-python-style-and-pep-8"></a>
  <h2 class="blog_post_title"><a href="/blog/2010/11/03/a-word-on-python-style-and-pep-8" rel="bookmark" title="Permanent Link to A word on Python style and PEP 8">A word on Python style and PEP 8</a></h2>
  <p><small>11.03.2010 at 03:11 AM in 

<a href='/blog/category/python'>Python</a>
 | <a href="http://www.rafekettler.com/blog/2010/11/03/a-word-on-python-style-and-pep-8#disqus_thread">View Comments</a>
</small></p>
  <div class="post_prose">
    
  <p>For those of you not familiar with the ins and outs of Python, the quintessential Python style guide is <a href="http://www.python.org/dev/peps/pep-0008/">Python Enhancement Proposal 8, or PEP 8</a> for short, a document handed down from Python's "Benevolent Dictator for Life" Guido van Rossum. It is the Talmud of Python programming, and anyone with a serious interest in Python ought to read it.
However, I, like many others, don't think that PEP 8 is free from problem. So, I've decided to write some praise and criticism for what I feel are the most notable parts of PEP 8.</p>
<p><strong>Layout</strong></p>
<p>The very first advice offered regards spacing. Namely, </p>
<blockquote>
<p>Use 4 spaces per indentation level.</p>
</blockquote>
<p>And</p>
<blockquote>
<p>Never mix tabs and spaces.</p>
</blockquote>
<p>This is perfectly agreeable, though it's importance has dwindled in the era where everyone and his brother has an IDE. Code should be indented consistently.
There is some controversy over the guideline on line length. Namely, PEP 8 says:</p>
<blockquote>
<p>Limit all lines to a maximum of 79 characters.</p>
</blockquote>
<p>I vocally disagree with this. In many cases, wrapping code to be less than 80 characters makes things less readably. Limiting the length of lines to 80 characters might have been relevant when displays could only show 80 lines, but in today's world where widescreen monitors are cheap and plentiful, it makes little sense. Consider the following code taken from a project of mine:</p>
<div class="pygments_tango"><pre><span class="c"># Without PEP 8</span>
<span class="bp">self</span><span class="o">.</span><span class="n">somefield</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="nb">id</span><span class="p">,</span> <span class="s">&#39;size&#39;</span><span class="p">,</span> <span class="n">convert_size</span><span class="p">(</span><span class="n">getsize</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">item</span><span class="p">))))</span>

<p><span class="c"># With PEP 8</span>
<span class="bp">self</span><span class="o">.</span><span class="n">someitem</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="nb">id</span><span class="p">,</span> <span class="s">&#39;size&#39;</span><span class="p">,</span> <span class="n">convertsize</span><span class="p">(</span><span class="n">getsize</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> 
                                                      <span class="n">item</span><span class="p">))))</span>
</pre></div></p>
<p>The first is obviously more readable. While I understand the abuse that having a limit to the length of a line is designed to counter, the "79 characters rule" is certainly one to be followed loosely.</p>
<p><strong>Imports</strong></p>
<p>The rules regarding imports in PEP 8 are mostly common sense, and designed to maximize clarity by cautioning against putting multiple imports on one line, specifying that imports should be made at the top of the module, and so on. One rule in PEP 8 that is rarely followed, but I think should be, is this:</p>
<blockquote>
<p>Imports should be grouped in the following order:
1. standard library imports
2. related third party imports
3. local application/library specific imports</p>
</blockquote>
<p>This rule definitely encourages clarity, but sadly, it is rarely followed.</p>
<p><strong>Naming conventions</strong></p>
<p>PEP 8 encourages a specific naming style for various items, such as CapWords for classes and lowercase for functions. Also, the PEP says:</p>
<blockquote>
<p>Function names should be lowercase, with words separated by underscores as necessary to improve readability</p>
</blockquote>
<p>This is another part of the PEP that I feel is little understood and adhered to in all the wrong ways. There are two styles of getting this wrong: <code>nevereveruseunderscoresstyle()</code>, and <code>use_them_always_even_when_stupid_style()</code>. Like Guido said, use underscores when necessary to improve readability. Don't use them between every word in a function name.</p>
<p>PEP 8 is a truly definitive style guide for the Python language, and Python is lucky to have something that most languages only dream of: clear style. However, like Jack Sparrow said, they're not rules, they're more like guidelines.</p>

  </div>
</div>



<div id="disqus_thread"></div>
<script type="text/javascript">
  var disqus_url = "http://www.rafekettler.com/blog/2010/11/03/a-word-on-python-style-and-pep-8";
</script>
<script type="text/javascript" src="http://disqus.com/forums/rafekettler.com/embed.js"></script>
<noscript><a href="http://rafekettler.com.disqus.com/?url=ref">View the discussion thread.</a></noscript><a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>

        </div><!-- End Prose Block -->
      </div><!-- End Main Block -->
      <div id="footer">
        
  <hr/>
  <p id="credits">
Copyright &copy; Rafe Kettler, 2010-11<br/>
Powered by <a href="http://www.blogofile.com">Blogofile</a>.<br/>
RSS feeds for <a href="/blog/feed">Entries</a>
 and <a
href="http://rafekettler.com.disqus.com/latest.rss">Comments</a>.
<br>
</p>
<script type="text/javascript">
//<![CDATA[
(function() {
		var links = document.getElementsByTagName('a');
		var query = '?';
		for(var i = 0; i < links.length; i++) {
			if(links[i].href.indexOf('#disqus_thread') >= 0) {
				query += 'url' + i + '=' + encodeURIComponent(links[i].href) + '&';
			}
		}
		document.write('<script charset="utf-8" type="text/javascript" src="http://disqus.com/forums/rafekettler.com/get_num_replies.js' + query + '"></' + 'script>');
	})();
//]]>
</script>


      </div> <!-- End Footer -->
    </div> <!-- End Content -->
  </body>
</html>



















